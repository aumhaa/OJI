var autowatch = 1;

var PALETTE = [];
var intPALETTE = [];

const RGB_COLOR_TABLE = [[0, 0, 0],
 [1, 15865344, 10],
 [2, 16728114, 10],
 [3, 16541952, 10],
 [4, 9331486, 10],
 [5, 16440379, 10],
 [6, 16762134, 12],
 [7, 11992846, 14],
 [8, 7995160, 16],
 [9, 3457558, 18],
 [10, 5212676, 20],
 [11, 6487893, 22],
 [12, 2719059, 24],
 [13, 2843699, 26],
 [14, 3255807, 28],
 [15, 3564540, 30],
 [16, 1717503, 32],
 [17, 1391001, 34],
 [18, 1838310, 36],
 [19, 3749887, 38],
 [20, 5710591, 40],
 [21, 9907199, 42],
 [22, 8724856, 44],
 [23, 16715826, 46],
 [24, 11022396, 48],
 [25, 16722900, 50],
 [26, 15427065, 52],
 [27, 10892321, 54],
 [28, 10049064, 56],
 [29, 8873728, 58],
 [30, 9470495, 60],
 [31, 4884224, 62],
 [32, 32530, 64],
 [33, 1594290, 66],
 [34, 6441901, 68],
 [35, 7551591, 70],
 [36, 16301231, 72],
 [37, 16751478, 74],
 [38, 16760671, 76],
 [39, 14266225, 78],
 [40, 16774272, 80],
 [41, 12565097, 80],
 [42, 12373128, 81],
 [43, 11468697, 81],
 [44, 8183199, 82],
 [45, 9024637, 82],
 [46, 8451071, 83],
 [47, 8048380, 83],
 [48, 6857171, 84],
 [49, 8753090, 85],
 [50, 12298994, 85],
 [51, 13482980, 86],
 [52, 15698864, 86],
 [53, 8756620, 87],
 [54, 7042414, 87],
 [55, 8687771, 88],
 [56, 6975605, 88],
 [57, 8947101, 89],
 [58, 7105141, 90],
 [59, 10323356, 90],
 [60, 7629428, 91],
 [61, 10263941, 91],
 [62, 7632234, 92],
 [63, 10323076, 92],
 [64, 7694954, 93],
 [65, 6293504, 93],
 [66, 2032128, 94],
 [67, 6691092, 94],
 [68, 2164742, 95],
 [69, 6564352, 96],
 [70, 2100480, 96],
 [71, 4665615, 97],
 [72, 1839878, 97],
 [73, 6576151, 98],
 [74, 2104327, 98],
 [75, 6704648, 99],
 [76, 2169090, 99],
 [77, 4744709, 100],
 [78, 1515777, 101],
 [79, 3171849, 101],
 [80, 991491, 102],
 [81, 1330440, 102],
 [82, 399618, 103],
 [83, 2045697, 103],
 [84, 659712, 104],
 [85, 2582050, 104],
 [86, 794891, 105],
 [87, 1326633, 106],
 [88, 530704, 106],
 [89, 1389081, 107],
 [90, 529418, 107],
 [91, 1262950, 108],
 [92, 398881, 108],
 [93, 1386340, 109],
 [94, 461856, 109],
 [95, 660582, 110],
 [96, 198177, 110],
 [97, 662604, 111],
 [98, 264990, 112],
 [99, 722012, 112],
 [100, 196893, 113],
 [101, 1447526, 113],
 [102, 460577, 114],
 [103, 2231654, 114],
 [104, 721953, 115],
 [105, 3936614, 115],
 [106, 1246497, 116],
 [107, 3476784, 117],
 [108, 1115151, 117],
 [109, 6686228, 118],
 [110, 2163206, 118],
 [111, 4395800, 119],
 [112, 1377799, 119],
 [113, 6689108, 120],
 [114, 2163995, 120],
 [115, 6170723, 121],
 [116, 1969440, 122],
 [117, 0, 122],
 [118, 5855577, 123],
 [119, 1710618, 123],
 [120, 16777215, 124],
 [121, 5855577, 124],
 [122, 13421772, 125],
 [123, 4210752, 125],
 [124, 1315860, 126],
 [125, 255, 126],
 [126, 65280, 127],
 [127, 16711680, 127]];
// [128, 16711680, 127]];


function make_rgb(raw)
{
	var r = (raw[1] >> 16)/255;
	var g = (raw[1] >> 8 & 255)/255;
	var b = (raw[1] & 255)/255;
	var a = (raw[2])/127;
	return [r, g, b, a];
}

function make_8bit_rgb(raw)
{
	var r = (raw[1] >> 16);
	var g = (raw[1] >> 8 & 255);
	var b = (raw[1] & 255);
	var a = (Math.max(38, raw[2]) * 2);
	return [r, g, b, a];
}

for(var i in RGB_COLOR_TABLE)
{
	PALETTE[i] = make_rgb(RGB_COLOR_TABLE[i]);
}

for(var i in RGB_COLOR_TABLE)
{
	intPALETTE[i] = make_8bit_rgb(RGB_COLOR_TABLE[i]);
}

exports.PALETTE = PALETTE;

exports.intPALETTE = intPALETTE;